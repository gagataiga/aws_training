## vpcコンソール上で使用可能な、管理できるゲートウェイ
- インターネットゲートウェイ
- NATゲートウェイ
-  Egress-Only Internet GateWay
-  カスタマーゲートウェイ
-  仮装プライベートゲートウェイ
  
## VPCでのDNSの使用
- enableDnsHostnames
- enableDnsSupport

## ネットワークACLとセキュリティグループ比較
### セキュリティグループ
※インバウンドとは向かってくる通信のこと、外に向かっていく通信をアウトバウンドという
- インスタンス単位で適用
- ステートフル
- 特定のVPCに紐づかれる
- 許可のみをIn/outで指定
- デフォルトは、全インバウンドが設定なし
- 全てのルール適用
  
### ネットワークACLs
- VPC / サブネット単位で適用
- ステートレス
- 許可と拒否をIn/outで指定
- デフォルトでは全通信を許可する
- 番号の順番通りに適用するため、重複したプロトコルがあると小さい番号が優先される

### ポート番号の復習
- TCP 20 : FTP (データ)
- TCP 21 : FTP (制御)
- TCP 22 : SSH linux Mac OS 通信用
- TCP 23 : Telnet
- TCP 25 : SMTP
- UDP 53 : DNS
- UDP 67 : DHCP（サーバ）
- UDP 68 : DHCP（クライアント）
- TCP 80 : HTTP
- TCP 110 : POP3
- UDP 123 : NTP
- TCP 443 : HTTPS
- WELL KNOWN PORT NUMBERS 0~1023
- 3389 : RDP リモートデスクトップ
- 3306 : RDS Amazon RDS DB接続用

## Elastic IP
- 静的なパブリックIPv4アドレス
- インスタンスが停止てもIPアドレスは変わらない
- VPCコンソールでElastic IPを作成しえて必要なサービスにアタッチする
- 利用無料。開放せずに利用しないと有料

## VPC エンドポイント
- VPCエンドポイントとはインターネットゲートウェイやNATゲートウェイ、NATインスタンスなどを経由することなく、VPCと他のAWSのサービスとをプライベートに接続できるAWSのサービス
- ゲートウェイ型エンドポイントとプライベートリンク型エンドポイント(インターフェイス型)がある
- ゲートウェイ型はサブネットに特殊なルーティングを設定。VPC内部から直接、外のサービスと通信する。
- プライベートリンク型はサブネットにエンドポイント用のプライベートIPを作成。DNSが名前解決をしてルーティング

```
# ec2インスタンス(private)がNAT経由でS3にアクセスする場合
$ aws s3 ls
# ecインスタンスがvpc エンドポイントを利用してサービスにアクセスする場合
$ aws s3 ls --region 指定のリージョン
```

## Direct Connect
顧客のデータセンターやオフィス等の専用回線を介してのAWSへプライベートに接続するサービス

## VPC フローログ
ネットワークトラフィックを取得しCloudWatchでモニタリングできるようにする機能
